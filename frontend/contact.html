<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/logout-debug.js"></script>
    <script src="js/auth-header.js"></script>
    <script src="js/auth-logout.js"></script>
    <script src="js/header.js"></script>
    <script src="script.js"></script>
    <!-- Base configuration -->
    <script src="js/config.js"></script>

    <!-- Core modules -->
    <script src="js/auth.js"></script>


    <title>FitZone - Contact Us</title>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/search.css">
    <link rel="stylesheet" href="login.css">

    <style>
        #page-header.about-header {
            background-image: url('img/banner/b14.png');
            background-size: cover;
            background-position: center;
            position: relative;
            z-index: 1;
        }
        
        #page-header.about-header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: -1;
        }
        
        #page-header h2, 
        #page-header p {
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        }
    </style>
    <!-- Include cart service script -->
    <script src="js/cart-service.js"></script>
    <script src="js/global-cart.js"></script>
    <link rel="stylesheet" href="css/search.css">
    <script src="js/search.js"></script>
</head>

<body>

    <section id="header">
        <a href="index.html"><img src="img/logo.png" class="logo" alt="FitZone Logo"></a>
        <div>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html" class="active">Contact</a></li>
                <li id="lg-bag"><a href="cart.html"><i class="far fa-shopping-bag"></i><span class="cart-count">0</span></a></li>
                
                <!-- Search Bar Integration -->
                <li class="search-container">
                    <form id="search-form">
                        <input type="text" id="search-input" placeholder="Search products..." aria-label="Search products">
                        <button type="submit" id="search-button">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                    <div id="search-results" class="search-results"></div>
                </li>
                <!-- End Search Bar Integration -->
                <li class="account-menu" id="account-menu-login">
                    <a href="login.html">Login</a>
                </li>
                <li class="account-menu" id="account-menu-dropdown" style="display:none;">
                    <a href="profile.html" class="account-link">
                        <span id="user-name-nav">Account</span> <i class="fas fa-user"></i>
                    </a>
                    <div class="dropdown-content">
                        <a href="profile.html">My Profile</a>
                        <a href="orders.html">My Orders</a>
                        <a href="#" id="logout-link">Logout</a>
                    </div>
                </li>
                <a href="#" id="close"><i class="far fa-times"></i></a>
            </ul>
        </div>

        <div id="mobile">
            <a href="cart.html"><i class="far fa-shopping-bag"></i><span class="cart-count">0</span></a>
            <i class="fas fa-search" onclick="toggleSearchBar()"></i>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section>

    <section id="page-header" class="about-header">
        <h2>#let's_talk</h2>
        <p>Have a question? We'd love to hear from you!</p>
    </section>

    <section id="contact-details" class="section-p1">
        <div class="details">
            <span>GET IN TOUCH</span>
            <h2>Visit our store or contact us today</h2>
            <h3>Head Office</h3>
            <div>
                <li>
                    <i class="fal fa-map"></i>
                    <p>123 Fitness Street, Health District, Cityville</p>
                </li>
                <li>
                    <i class="far fa-envelope"></i>
                    <p>contact@fitzone.com</p>
                </li>
                <li>
                    <i class="fas fa-phone-alt"></i>
                    <p>+1 234 567 8901</p>
                </li>
                <li>
                    <i class="far fa-clock"></i>
                    <p>Monday to Saturday: 10:00am - 6:00pm</p>
                </li>
            </div>
        </div>

        <div class="map">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.9916256937604!2d2.292292615674!3d48.85837007928757!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e2964e34e2d%3A0x8ddca9ee380ef7e0!2sEiffel%20Tower!5e0!3m2!1sen!2sus!4v1637152514401!5m2!1sen!2sus" 
                width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </section>

    <section id="form-details" class="section-p1">
        <form id="contact-form">
            <span>LEAVE A MESSAGE</span>
            <h2>We'd love to hear from you</h2>
            <input type="text" id="name" placeholder="Your Name" required>
            <input type="email" id="email" placeholder="Your Email" required>
            <input type="text" id="subject" placeholder="Subject" required>
            <textarea id="message" cols="30" rows="10" placeholder="Your Message" required></textarea>
            <div id="form-message"></div>
            <button class="normal" type="submit">Submit</button>
        </form>

        <div class="people">
            <div>
                <img src="img/people/1.png" alt="Person 1">
                <p><span>John Smith</span> Senior Marketing Manager <br> Phone: +1 234 567 8912 <br> Email: john.smith@fitzone.com</p>
            </div>
            <div>
                <img src="img/people/2.png" alt="Person 2">
                <p><span>Emma Brown</span> Senior Customer Support <br> Phone: +1 234 567 8913 <br> Email: emma.brown@fitzone.com</p>
            </div>
            <div>
                <img src="img/people/3.png" alt="Person 3">
                <p><span>David Wilson</span> Fitness Advisor <br> Phone: +1 234 567 8914 <br> Email: david.wilson@fitzone.com</p>
            </div>
        </div>
    </section>

    <section id="newsletter" class="section-p1 section-m1">
        <div class="newstext">
            <h4>Sign Up For Newsletters</h4>
            <p>Get E-mail updates about our latest products and <span>special offers.</span></p>
        </div>
        <div class="form">
            <input type="text" placeholder="Your email address">
            <button class="normal">Sign Up</button>
        </div>
    </section>

    <footer class="section-p1">
        <div class="col">
            <img class="logo" src="img/logo.png" alt="">
            <h4>Contact</h4>
            <p><strong>Address: </strong> 123 Fitness Street, Health District, Cityville</p>
            <p><strong>Phone:</strong> +1 234 567 8901 / +1 234 567 8902</p>
            <p><strong>Hours:</strong> 10:00 - 18:00, Mon - Sat</p>
            <div class="follow">
                <h4>Follow Us</h4>
                <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-pinterest-p"></i>
                    <i class="fab fa-youtube"></i>
                </div>
            </div>
        </div>

        <div class="col">
            <h4>About</h4>
            <a href="about.html">About Us</a>
            <a href="#">Delivery Information</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms & Conditions</a>
            <a href="contact.html">Contact Us</a>
        </div>

        <div class="col">
            <h4>My Account</h4>
            <a href="login.html">Sign In</a>
            <a href="cart.html">View Cart</a>
            <a href="#">My Wishlist</a>
            <a href="#">Track My Order</a>
            <a href="#">Help</a>
        </div>

        <div class="col install">
            <h4>Install App</h4>
            <p>From App Store or Google Play</p>
            <div class="row">
                <img src="img/pay/app.jpg" alt="">
                <img src="img/pay/play.jpg" alt="">
            </div>
            <p>Secured Payment Gateways </p>
            <img src="img/pay/pay.png" alt="">
        </div>

        <div class="copyright">
            <p>© 2025, FitZone - Premium Fitness Products & Supplements</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="chrome-extension-fix.js"></script>
    <script src="js/auth-persistence.js"></script>
    <script src="js/auth-header.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/header.js"></script>
    <script src="js/auth-ui.js"></script>
    <!-- Add auth-logout.js for reliable logout functionality -->
    <script src="js/auth-logout.js"></script>

    <style>
        #form-message {
            margin: 10px 0;
        }
        
        .success-message {
            color: #088178;
            background-color: #e6f3f2;
            padding: 10px;
            border-radius: 4px;
            border-left: 4px solid #088178;
        }
        
        .error-message {
            color: #e74c3c;
            background-color: #fae5e5;
            padding: 10px;
            border-radius: 4px;
            border-left: 4px solid #e74c3c;
        }
        
        .info-message {
            color: #3498db;
            background-color: #e9f5fe;
            padding: 10px;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        
        /* Additional styling for store locations */
        #store-locations {
            padding: 40px 80px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        
        .store {
            flex: 0 0 30%;
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .store h3 {
            margin-bottom: 15px;
            color: #088178;
        }
        
        .store p {
            margin: 5px 0;
        }
        
        @media (max-width: 799px) {
            .store {
                flex: 0 0 48%;
            }
        }
        
        @media (max-width: 477px) {
            .store {
                flex: 0 0 100%;
            }
        }

        /* Account dropdown menu styling */
        .account-menu {
            position: relative;
        }
        
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            min-width: 180px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            right: 0;
            border-radius: 4px;
        }
        
        .account-menu:hover .dropdown-content {
            display: block;
        }
        
        .dropdown-content a {
            color: #1a1a1a;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            font-size: 14px;
            border-radius: 0;
        }
        
        .dropdown-content a:hover {
            background-color: #f1f1f1;
            color: #088178;
        }
        
        /* Ensure no bottom margin on last dropdown item */
        .dropdown-content a:last-child {
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 4px;
        }
        
        /* Ensure no top margin on first dropdown item */
        .dropdown-content a:first-child {
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
        }
        
        /* Hide any old Déconnexion buttons */
        a[href="javascript:void(0)"] {
            display: none !important;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is logged in
            const isLoggedIn = typeof FitZoneAuth !== 'undefined' && FitZoneAuth.isLoggedIn();
            
            // Get the elements
            const loginMenu = document.getElementById('account-menu-login');
            const dropdownMenu = document.getElementById('account-menu-dropdown');
            
            // Update visibility based on login state
            if (isLoggedIn) {
                // User is logged in
                if (loginMenu) loginMenu.style.display = 'none';
                if (dropdownMenu) dropdownMenu.style.display = 'block';
                
                // Update username in dropdown
                const user = FitZoneAuth.getCurrentUser();
                const userNameNav = document.getElementById('user-name-nav');
                if (userNameNav && user && user.prenom) {
                    userNameNav.textContent = user.prenom;
                }
                
                // Setup unified logout functionality
                setupLogoutHandlers();
                
                // Hide any old "Déconnexion" buttons
                const oldLogoutBtns = document.querySelectorAll('a[href="javascript:void(0)"]');
                oldLogoutBtns.forEach(btn => {
                    if (btn.textContent.trim() === 'Déconnexion') {
                        btn.style.display = 'none';
                    }
                });
            } else {
                // User is not logged in
                if (loginMenu) loginMenu.style.display = 'block';
                if (dropdownMenu) dropdownMenu.style.display = 'none';
            }
            
            // Handle logout from both profile button and dropdown with a single function
            function setupLogoutHandlers() {
                // Handle profile logout button
                const logoutBtn = document.getElementById('logout-btn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('Logout clicked from profile button');
                        performLogout();
                    });
                }
                
                // Handle dropdown logout link
                const logoutLink = document.getElementById('logout-link');
                if (logoutLink) {
                    logoutLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('Logout clicked from dropdown');
                        performLogout();
                    });
                }
            }
            
            // Unified logout function
            function performLogout() {
                console.log('Performing logout');
                
                try {
                    // Signal to other components that this is a user-initiated logout
                    window.preventAutoLogout = false;
                    window.lastUserInteraction = Date.now();
                    
                    // Clear all auth data directly - this is the most reliable approach
                    localStorage.removeItem('fitzone_token');
                    localStorage.removeItem('fitzone_user');
                    localStorage.removeItem('fitzone_auth_state');
                    
                    // Trigger any logout handlers that might be listening for these events
                    window.dispatchEvent(new CustomEvent('fitzone_logout'));
                    
                    // Redirect to homepage
                    console.log('Logout successful, redirecting to home page');
                    window.location.href = 'index.html';
                } catch (error) {
                    console.error('Error during logout:', error);
                    alert('An error occurred during logout. Your session has been cleared.');
                    window.location.href = 'index.html';
                }
            }
        });
    </script>
</body>

</html>